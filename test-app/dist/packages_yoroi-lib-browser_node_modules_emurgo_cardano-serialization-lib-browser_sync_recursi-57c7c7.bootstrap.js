(self["webpackChunktest_app"] = self["webpackChunktest_app"] || []).push([["packages_yoroi-lib-browser_node_modules_emurgo_cardano-serialization-lib-browser_sync_recursi-57c7c7"],{

/***/ "../packages/yoroi-lib-browser/node_modules/@emurgo/cardano-serialization-lib-browser sync recursive":
/*!**************************************************************************************************!*\
  !*** ../packages/yoroi-lib-browser/node_modules/@emurgo/cardano-serialization-lib-browser/ sync ***!
  \**************************************************************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "../packages/yoroi-lib-browser/node_modules/@emurgo/cardano-serialization-lib-browser sync recursive";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "./node_modules/mocha/lib sync recursive":
/*!**************************************!*\
  !*** ./node_modules/mocha/lib/ sync ***!
  \**************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "./node_modules/mocha/lib sync recursive";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "../packages/yoroi-lib-browser/src/index.ts":
/*!**************************************************!*\
  !*** ../packages/yoroi-lib-browser/src/index.ts ***!
  \**************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__) => {
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "init": () => (/* binding */ init)
/* harmony export */ });
/* harmony import */ var _emurgo_cardano_serialization_lib_browser_cardano_serialization_lib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @emurgo/cardano-serialization-lib-browser/cardano_serialization_lib */ "../packages/yoroi-lib-browser/node_modules/@emurgo/cardano-serialization-lib-browser/cardano_serialization_lib_bg.js");
/* harmony import */ var _yoroi_lib_core_src_wasm_contract__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../yoroi-lib-core/src/wasm-contract */ "../packages/yoroi-lib-core/src/wasm-contract.ts");
/* harmony import */ var _yoroi_lib_core_src_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../yoroi-lib-core/src/index */ "../packages/yoroi-lib-core/src/index.ts");
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_emurgo_cardano_serialization_lib_browser_cardano_serialization_lib__WEBPACK_IMPORTED_MODULE_2__]);
_emurgo_cardano_serialization_lib_browser_cardano_serialization_lib__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? await __webpack_async_dependencies__ : __webpack_async_dependencies__)[0];
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};



const init = () => {
    // The methods in the browser's Wasm object are not async,
    // so we have to create another object to pass to createYoroiLib
    return (0,_yoroi_lib_core_src_index__WEBPACK_IMPORTED_MODULE_1__.createYoroiLib)({
        encrypt_with_password: (password, salt, nonce, data) => {
            return Promise.resolve(_emurgo_cardano_serialization_lib_browser_cardano_serialization_lib__WEBPACK_IMPORTED_MODULE_2__.encrypt_with_password(password, salt, nonce, data));
        },
        decrypt_with_password: (password, salt) => {
            return Promise.resolve(_emurgo_cardano_serialization_lib_browser_cardano_serialization_lib__WEBPACK_IMPORTED_MODULE_2__.decrypt_with_password(password, salt));
        },
        BigNum: BrowserBigNum
    });
};
class BrowserBigNum extends _yoroi_lib_core_src_wasm_contract__WEBPACK_IMPORTED_MODULE_0__.BigNum {
    constructor(wasmBigNum) {
        super(wasmBigNum);
        this._wasmBigNum = wasmBigNum;
    }
    free() {
        return Promise.resolve(this._wasmBigNum.free());
    }
    to_bytes() {
        return Promise.resolve(this._wasmBigNum.to_bytes());
    }
    to_str() {
        return Promise.resolve(this._wasmBigNum.to_str());
    }
    checked_mul(other) {
        const wasmBigNum = this._wasmBigNum.checked_mul(other._wasmBigNum);
        return Promise.resolve(new BrowserBigNum(wasmBigNum));
    }
    checked_add(other) {
        const wasmBigNum = this._wasmBigNum.checked_add(other._wasmBigNum);
        return Promise.resolve(new BrowserBigNum(wasmBigNum));
    }
    checked_sub(other) {
        const wasmBigNum = this._wasmBigNum.checked_sub(other._wasmBigNum);
        return Promise.resolve(new BrowserBigNum(wasmBigNum));
    }
    clamped_sub(other) {
        const wasmBigNum = this._wasmBigNum.clamped_sub(other._wasmBigNum);
        return Promise.resolve(new BrowserBigNum(wasmBigNum));
    }
    compare(rhs_value) {
        return Promise.resolve(this._wasmBigNum.compare(rhs_value._wasmBigNum));
    }
    static from_bytes(bytes) {
        return __awaiter(this, void 0, void 0, function* () {
            const wasmBigNum = _emurgo_cardano_serialization_lib_browser_cardano_serialization_lib__WEBPACK_IMPORTED_MODULE_2__.BigNum.from_bytes(bytes);
            return Promise.resolve(new BrowserBigNum(wasmBigNum));
        });
    }
    static from_str(string) {
        const wasmBigNum = _emurgo_cardano_serialization_lib_browser_cardano_serialization_lib__WEBPACK_IMPORTED_MODULE_2__.BigNum.from_str(string);
        return Promise.resolve(new BrowserBigNum(wasmBigNum));
    }
}

});

/***/ }),

/***/ "../packages/yoroi-lib-core/spec/index.spec.ts":
/*!*****************************************************!*\
  !*** ../packages/yoroi-lib-core/spec/index.spec.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "setupTests": () => (/* binding */ setupTests)
/* harmony export */ });
/* harmony import */ var chai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! chai */ "../node_modules/chai/index.mjs");
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};

const setupTests = (yoroiLib, suiteName) => {
    return describe(suiteName, () => {
        describe('Yoroi Lib', () => {
            it('should encrypt / decrypt with password', () => __awaiter(void 0, void 0, void 0, function* () {
                const password = 'my password';
                const data = 'my secret data';
                const passwordHex = Buffer.from(password, 'utf-8').toString('hex');
                const saltHex = 'd01747b41d72c8f1f26a7f72d28e1111d7eca73cfac0a05b431869e5f9ab8839';
                const nonceHex = 'c0fd98b73ac941aa18a258e5';
                const dataHex = Buffer.from(data, 'utf-8').toString('hex');
                const encrypted = yield yoroiLib.encryptWithPassword(passwordHex, saltHex, nonceHex, dataHex);
                const decrypted = yield yoroiLib.decryptWithPassword(passwordHex, encrypted);
                const dataBack = Buffer.from(decrypted, 'hex').toString('utf-8');
                (0,chai__WEBPACK_IMPORTED_MODULE_0__.expect)(dataBack).to.equals(data);
            }));
        });
    });
};


/***/ }),

/***/ "../packages/yoroi-lib-core/src/index.ts":
/*!***********************************************!*\
  !*** ../packages/yoroi-lib-core/src/index.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createYoroiLib": () => (/* binding */ createYoroiLib),
/* harmony export */   "YoroiLib": () => (/* binding */ YoroiLib)
/* harmony export */ });
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
const createYoroiLib = (wasmV4) => {
    return new YoroiLib(wasmV4);
};
class YoroiLib {
    constructor(wasmV4) {
        this._wasmV4 = wasmV4;
    }
    encryptWithPassword(password, salt, nonce, data) {
        return __awaiter(this, void 0, void 0, function* () {
            return yield this._wasmV4.encrypt_with_password(password, salt, nonce, data);
        });
    }
    decryptWithPassword(password, data) {
        return __awaiter(this, void 0, void 0, function* () {
            return yield this._wasmV4.decrypt_with_password(password, data);
        });
    }
}


/***/ }),

/***/ "../packages/yoroi-lib-core/src/wasm-contract.ts":
/*!*******************************************************!*\
  !*** ../packages/yoroi-lib-core/src/wasm-contract.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BigNum": () => (/* binding */ BigNum)
/* harmony export */ });
class BigNum {
    constructor(wasmBigNum) {
    }
    /**
      * @param {Uint8Array} bytes
      * @returns {BigNum}
    */
    static from_bytes(bytes) {
        throw 'should be overwritten by implementations';
    }
    /**
      * @param {string} string
      * @returns {BigNum}
    */
    static from_str(string) {
        throw 'should be overwritten by implementations';
    }
}


/***/ }),

/***/ "./index.ts":
/*!******************!*\
  !*** ./index.ts ***!
  \******************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.a(module, async (__webpack_handle_async_dependencies__) => {
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var mocha__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mocha */ "./node_modules/mocha/browser-entry.js");
/* harmony import */ var mocha__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mocha__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _packages_yoroi_lib_core_spec_index_spec__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../packages/yoroi-lib-core/spec/index.spec */ "../packages/yoroi-lib-core/spec/index.spec.ts");
/* harmony import */ var _packages_yoroi_lib_browser_src__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../packages/yoroi-lib-browser/src */ "../packages/yoroi-lib-browser/src/index.ts");
var __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_packages_yoroi_lib_browser_src__WEBPACK_IMPORTED_MODULE_2__]);
_packages_yoroi_lib_browser_src__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? await __webpack_async_dependencies__ : __webpack_async_dependencies__)[0];
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};



(function () {
    return __awaiter(this, void 0, void 0, function* () {
        mocha__WEBPACK_IMPORTED_MODULE_0__.setup('bdd');
        const yoroiLibBrowser = (0,_packages_yoroi_lib_browser_src__WEBPACK_IMPORTED_MODULE_2__.init)();
        (0,_packages_yoroi_lib_core_spec_index_spec__WEBPACK_IMPORTED_MODULE_1__.setupTests)(yoroiLibBrowser, 'Yoroi LIb Browser');
        mocha__WEBPACK_IMPORTED_MODULE_0__.run();
    });
})();

});

/***/ }),

/***/ "?f114":
/*!********************!*\
  !*** fs (ignored) ***!
  \********************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?3073":
/*!**********************!*\
  !*** path (ignored) ***!
  \**********************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?d996":
/*!********************************!*\
  !*** supports-color (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?c5d5":
/*!*****************************!*\
  !*** ./esm-utils (ignored) ***!
  \*****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?9e59":
/*!****************************************!*\
  !*** ./nodejs/file-unloader (ignored) ***!
  \****************************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?e9a5":
/*!***************************************************!*\
  !*** ./nodejs/parallel-buffered-runner (ignored) ***!
  \***************************************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?c4b6":
/*!**********************!*\
  !*** path (ignored) ***!
  \**********************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?ed1b":
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?d17e":
/*!**********************!*\
  !*** util (ignored) ***!
  \**********************/
/***/ (() => {

/* (ignored) */

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFja2FnZXNfeW9yb2ktbGliLWJyb3dzZXJfbm9kZV9tb2R1bGVzX2VtdXJnb19jYXJkYW5vLXNlcmlhbGl6YXRpb24tbGliLWJyb3dzZXJfc3luY19yZWN1cnNpLTU3YzdjNy5ib290c3RyYXAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ1I2RjtBQUM5QjtBQUVVO0FBRWxFLE1BQU0sSUFBSSxHQUFHLEdBQWEsRUFBRTtJQUNqQywwREFBMEQ7SUFDMUQsZ0VBQWdFO0lBQ2hFLE9BQU8seUVBQWMsQ0FBQztRQUNwQixxQkFBcUIsRUFBRSxDQUFDLFFBQWdCLEVBQUUsSUFBWSxFQUFFLEtBQWEsRUFBRSxJQUFZLEVBQUUsRUFBRTtZQUNyRixPQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsc0hBQTRCLENBQUMsUUFBUSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDbkYsQ0FBQztRQUNELHFCQUFxQixFQUFFLENBQUMsUUFBZ0IsRUFBRSxJQUFZLEVBQUUsRUFBRTtZQUN4RCxPQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsc0hBQTRCLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3RFLENBQUM7UUFDRCxNQUFNLEVBQUUsYUFBYTtLQUN0QixDQUFDLENBQUM7QUFDTCxDQUFDO0FBRUQsTUFBTSxhQUFjLFNBQVEscUVBQU07SUFHaEMsWUFBWSxVQUF5QjtRQUNuQyxLQUFLLENBQUMsVUFBVSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxXQUFXLEdBQUcsVUFBVTtJQUMvQixDQUFDO0lBRUQsSUFBSTtRQUNGLE9BQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksRUFB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TSwwQ0FBMEM7SUFDbEQsQ0FBQztJQUNEOzs7TUFHRTtJQUNGLE1BQU0sQ0FBQyxRQUFRLENBQUMsTUFBYztRQUM1QixNQUFNLDBDQUEwQztJQUNsRCxDQUFDO0NBQ0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDNUQ2QjtBQUV5QztBQUNBO0FBRXZFLENBQUM7O1FBQ0Msd0NBQVcsQ0FBQyxLQUFLLENBQUM7UUFFbEIsTUFBTSxlQUFlLEdBQUcscUVBQVcsRUFBRTtRQUVyQyxvRkFBVSxDQUFDLGVBQWUsRUFBRSxtQkFBbUIsQ0FBQztRQUVoRCxzQ0FBUyxFQUFFO0lBQ2IsQ0FBQztDQUFBLENBQUMsRUFBRTs7Ozs7Ozs7Ozs7O0FDYko7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FDQUE7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7OztBQ0FBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGVzdC1hcHAvLi4vcGFja2FnZXMveW9yb2ktbGliLWJyb3dzZXIvbm9kZV9tb2R1bGVzL0BlbXVyZ28vY2FyZGFuby1zZXJpYWxpemF0aW9uLWxpYi1icm93c2VyfHN5bmMiLCJ3ZWJwYWNrOi8vdGVzdC1hcHAvLi9ub2RlX21vZHVsZXMvbW9jaGEvbGlifHN5bmMiLCJ3ZWJwYWNrOi8vdGVzdC1hcHAvLi4vcGFja2FnZXMveW9yb2ktbGliLWJyb3dzZXIvc3JjL2luZGV4LnRzIiwid2VicGFjazovL3Rlc3QtYXBwLy4uL3BhY2thZ2VzL3lvcm9pLWxpYi1jb3JlL3NwZWMvaW5kZXguc3BlYy50cyIsIndlYnBhY2s6Ly90ZXN0LWFwcC8uLi9wYWNrYWdlcy95b3JvaS1saWItY29yZS9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vdGVzdC1hcHAvLi4vcGFja2FnZXMveW9yb2ktbGliLWNvcmUvc3JjL3dhc20tY29udHJhY3QudHMiLCJ3ZWJwYWNrOi8vdGVzdC1hcHAvLi9pbmRleC50cyIsIndlYnBhY2s6Ly90ZXN0LWFwcC9pZ25vcmVkfC9ob21lL2Rya29zdC9fc291cmNlL3JlcG9zL0VtdXJnby95b3JvaS1saWIvdGVzdC1hcHAvbm9kZV9tb2R1bGVzL21vY2hhL2xpYi9yZXBvcnRlcnN8ZnMiLCJ3ZWJwYWNrOi8vdGVzdC1hcHAvaWdub3JlZHwvaG9tZS9kcmtvc3QvX3NvdXJjZS9yZXBvcy9FbXVyZ28veW9yb2ktbGliL3Rlc3QtYXBwL25vZGVfbW9kdWxlcy9tb2NoYS9saWIvcmVwb3J0ZXJzfHBhdGgiLCJ3ZWJwYWNrOi8vdGVzdC1hcHAvaWdub3JlZHwvaG9tZS9kcmtvc3QvX3NvdXJjZS9yZXBvcy9FbXVyZ28veW9yb2ktbGliL3Rlc3QtYXBwL25vZGVfbW9kdWxlcy9tb2NoYS9saWIvcmVwb3J0ZXJzfHN1cHBvcnRzLWNvbG9yIiwid2VicGFjazovL3Rlc3QtYXBwL2lnbm9yZWR8L2hvbWUvZHJrb3N0L19zb3VyY2UvcmVwb3MvRW11cmdvL3lvcm9pLWxpYi90ZXN0LWFwcC9ub2RlX21vZHVsZXMvbW9jaGEvbGlifC4vZXNtLXV0aWxzIiwid2VicGFjazovL3Rlc3QtYXBwL2lnbm9yZWR8L2hvbWUvZHJrb3N0L19zb3VyY2UvcmVwb3MvRW11cmdvL3lvcm9pLWxpYi90ZXN0LWFwcC9ub2RlX21vZHVsZXMvbW9jaGEvbGlifC4vbm9kZWpzL2ZpbGUtdW5sb2FkZXIiLCJ3ZWJwYWNrOi8vdGVzdC1hcHAvaWdub3JlZHwvaG9tZS9kcmtvc3QvX3NvdXJjZS9yZXBvcy9FbXVyZ28veW9yb2ktbGliL3Rlc3QtYXBwL25vZGVfbW9kdWxlcy9tb2NoYS9saWJ8Li9ub2RlanMvcGFyYWxsZWwtYnVmZmVyZWQtcnVubmVyIiwid2VicGFjazovL3Rlc3QtYXBwL2lnbm9yZWR8L2hvbWUvZHJrb3N0L19zb3VyY2UvcmVwb3MvRW11cmdvL3lvcm9pLWxpYi90ZXN0LWFwcC9ub2RlX21vZHVsZXMvbW9jaGEvbGlifHBhdGgiLCJ3ZWJwYWNrOi8vdGVzdC1hcHAvaWdub3JlZHwvaG9tZS9kcmtvc3QvX3NvdXJjZS9yZXBvcy9FbXVyZ28veW9yb2ktbGliL3Rlc3QtYXBwL25vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL2ludGVybmFsL3N0cmVhbXN8dXRpbCIsIndlYnBhY2s6Ly90ZXN0LWFwcC9pZ25vcmVkfC9ob21lL2Rya29zdC9fc291cmNlL3JlcG9zL0VtdXJnby95b3JvaS1saWIvdGVzdC1hcHAvbm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9saWJ8dXRpbCJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiB3ZWJwYWNrRW1wdHlDb250ZXh0KHJlcSkge1xuXHR2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIidcIik7XG5cdGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJztcblx0dGhyb3cgZTtcbn1cbndlYnBhY2tFbXB0eUNvbnRleHQua2V5cyA9ICgpID0+IChbXSk7XG53ZWJwYWNrRW1wdHlDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrRW1wdHlDb250ZXh0O1xud2VicGFja0VtcHR5Q29udGV4dC5pZCA9IFwiLi4vcGFja2FnZXMveW9yb2ktbGliLWJyb3dzZXIvbm9kZV9tb2R1bGVzL0BlbXVyZ28vY2FyZGFuby1zZXJpYWxpemF0aW9uLWxpYi1icm93c2VyIHN5bmMgcmVjdXJzaXZlXCI7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tFbXB0eUNvbnRleHQ7IiwiZnVuY3Rpb24gd2VicGFja0VtcHR5Q29udGV4dChyZXEpIHtcblx0dmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInXCIpO1xuXHRlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7XG5cdHRocm93IGU7XG59XG53ZWJwYWNrRW1wdHlDb250ZXh0LmtleXMgPSAoKSA9PiAoW10pO1xud2VicGFja0VtcHR5Q29udGV4dC5yZXNvbHZlID0gd2VicGFja0VtcHR5Q29udGV4dDtcbndlYnBhY2tFbXB0eUNvbnRleHQuaWQgPSBcIi4vbm9kZV9tb2R1bGVzL21vY2hhL2xpYiBzeW5jIHJlY3Vyc2l2ZVwiO1xubW9kdWxlLmV4cG9ydHMgPSB3ZWJwYWNrRW1wdHlDb250ZXh0OyIsImltcG9ydCAqIGFzIFdhc21WNCBmcm9tICdAZW11cmdvL2NhcmRhbm8tc2VyaWFsaXphdGlvbi1saWItYnJvd3Nlci9jYXJkYW5vX3NlcmlhbGl6YXRpb25fbGliJ1xuaW1wb3J0IHsgQmlnTnVtIH0gZnJvbSAnLi4vLi4veW9yb2ktbGliLWNvcmUvc3JjL3dhc20tY29udHJhY3QnXG5cbmltcG9ydCB7IGNyZWF0ZVlvcm9pTGliLCBZb3JvaUxpYiB9IGZyb20gJy4uLy4uL3lvcm9pLWxpYi1jb3JlL3NyYy9pbmRleCdcblxuZXhwb3J0IGNvbnN0IGluaXQgPSAoKTogWW9yb2lMaWIgPT4ge1xuICAvLyBUaGUgbWV0aG9kcyBpbiB0aGUgYnJvd3NlcidzIFdhc20gb2JqZWN0IGFyZSBub3QgYXN5bmMsXG4gIC8vIHNvIHdlIGhhdmUgdG8gY3JlYXRlIGFub3RoZXIgb2JqZWN0IHRvIHBhc3MgdG8gY3JlYXRlWW9yb2lMaWJcbiAgcmV0dXJuIGNyZWF0ZVlvcm9pTGliKHtcbiAgICBlbmNyeXB0X3dpdGhfcGFzc3dvcmQ6IChwYXNzd29yZDogc3RyaW5nLCBzYWx0OiBzdHJpbmcsIG5vbmNlOiBzdHJpbmcsIGRhdGE6IHN0cmluZykgPT4ge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShXYXNtVjQuZW5jcnlwdF93aXRoX3Bhc3N3b3JkKHBhc3N3b3JkLCBzYWx0LCBub25jZSwgZGF0YSkpXG4gICAgfSxcbiAgICBkZWNyeXB0X3dpdGhfcGFzc3dvcmQ6IChwYXNzd29yZDogc3RyaW5nLCBzYWx0OiBzdHJpbmcpID0+IHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoV2FzbVY0LmRlY3J5cHRfd2l0aF9wYXNzd29yZChwYXNzd29yZCwgc2FsdCkpXG4gICAgfSxcbiAgICBCaWdOdW06IEJyb3dzZXJCaWdOdW1cbiAgfSk7XG59XG5cbmNsYXNzIEJyb3dzZXJCaWdOdW0gZXh0ZW5kcyBCaWdOdW0ge1xuICBwcml2YXRlIF93YXNtQmlnTnVtOiBXYXNtVjQuQmlnTnVtXG5cbiAgY29uc3RydWN0b3Iod2FzbUJpZ051bTogV2FzbVY0LkJpZ051bSkge1xuICAgIHN1cGVyKHdhc21CaWdOdW0pXG4gICAgdGhpcy5fd2FzbUJpZ051bSA9IHdhc21CaWdOdW1cbiAgfVxuXG4gIGZyZWUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl93YXNtQmlnTnVtLmZyZWUoKSlcbiAgfVxuICB0b19ieXRlcygpOiBQcm9taXNlPFVpbnQ4QXJyYXk+IHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3dhc21CaWdOdW0udG9fYnl0ZXMoKSlcbiAgfVxuICB0b19zdHIoKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3dhc21CaWdOdW0udG9fc3RyKCkpXG4gIH1cbiAgY2hlY2tlZF9tdWwob3RoZXI6IEJyb3dzZXJCaWdOdW0pOiBQcm9taXNlPEJpZ051bT4ge1xuICAgIGNvbnN0IHdhc21CaWdOdW0gPSB0aGlzLl93YXNtQmlnTnVtLmNoZWNrZWRfbXVsKG90aGVyLl93YXNtQmlnTnVtKVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJyb3dzZXJCaWdOdW0od2FzbUJpZ051bSkpXG4gIH1cbiAgY2hlY2tlZF9hZGQob3RoZXI6IEJyb3dzZXJCaWdOdW0pOiBQcm9taXNlPEJpZ051bT4ge1xuICAgIGNvbnN0IHdhc21CaWdOdW0gPSB0aGlzLl93YXNtQmlnTnVtLmNoZWNrZWRfYWRkKG90aGVyLl93YXNtQmlnTnVtKVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJyb3dzZXJCaWdOdW0od2FzbUJpZ051bSkpXG4gIH1cbiAgY2hlY2tlZF9zdWIob3RoZXI6IEJyb3dzZXJCaWdOdW0pOiBQcm9taXNlPEJpZ051bT4ge1xuICAgIGNvbnN0IHdhc21CaWdOdW0gPSB0aGlzLl93YXNtQmlnTnVtLmNoZWNrZWRfc3ViKG90aGVyLl93YXNtQmlnTnVtKVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJyb3dzZXJCaWdOdW0od2FzbUJpZ051bSkpXG4gIH1cbiAgY2xhbXBlZF9zdWIob3RoZXI6IEJyb3dzZXJCaWdOdW0pOiBQcm9taXNlPEJpZ051bT4ge1xuICAgIGNvbnN0IHdhc21CaWdOdW0gPSB0aGlzLl93YXNtQmlnTnVtLmNsYW1wZWRfc3ViKG90aGVyLl93YXNtQmlnTnVtKVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJyb3dzZXJCaWdOdW0od2FzbUJpZ051bSkpXG4gIH1cbiAgY29tcGFyZShyaHNfdmFsdWU6IEJyb3dzZXJCaWdOdW0pOiBQcm9taXNlPG51bWJlcj4ge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fd2FzbUJpZ051bS5jb21wYXJlKHJoc192YWx1ZS5fd2FzbUJpZ051bSkpXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZnJvbV9ieXRlcyhieXRlczogVWludDhBcnJheSk6IFByb21pc2U8QmlnTnVtPiB7XG4gICAgY29uc3Qgd2FzbUJpZ051bSA9IFdhc21WNC5CaWdOdW0uZnJvbV9ieXRlcyhieXRlcylcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCcm93c2VyQmlnTnVtKHdhc21CaWdOdW0pKVxuICB9XG5cbiAgc3RhdGljIGZyb21fc3RyKHN0cmluZzogc3RyaW5nKTogUHJvbWlzZTxCaWdOdW0+IHtcbiAgICBjb25zdCB3YXNtQmlnTnVtID0gV2FzbVY0LkJpZ051bS5mcm9tX3N0cihzdHJpbmcpXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQnJvd3NlckJpZ051bSh3YXNtQmlnTnVtKSlcbiAgfVxufVxuXG4iLCJpbXBvcnQgeyBleHBlY3QgfSBmcm9tIFwiY2hhaVwiO1xuaW1wb3J0IHsgWW9yb2lMaWIgfSBmcm9tIFwiLi4vc3JjXCI7XG5cblxuZXhwb3J0IGNvbnN0IHNldHVwVGVzdHMgPSAoeW9yb2lMaWI6IFlvcm9pTGliLCBzdWl0ZU5hbWU6IHN0cmluZyk6IE1vY2hhLlN1aXRlID0+IHtcbiAgcmV0dXJuIGRlc2NyaWJlKHN1aXRlTmFtZSwgKCkgPT4ge1xuICAgIGRlc2NyaWJlKCdZb3JvaSBMaWInLCAoKSA9PiB7XG4gICAgICBpdCgnc2hvdWxkIGVuY3J5cHQgLyBkZWNyeXB0IHdpdGggcGFzc3dvcmQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHBhc3N3b3JkID0gJ215IHBhc3N3b3JkJ1xuICAgICAgICBjb25zdCBkYXRhID0gJ215IHNlY3JldCBkYXRhJ1xuICBcbiAgICAgICAgY29uc3QgcGFzc3dvcmRIZXggPSBCdWZmZXIuZnJvbShwYXNzd29yZCwgJ3V0Zi04JykudG9TdHJpbmcoJ2hleCcpXG4gICAgICAgIGNvbnN0IHNhbHRIZXggPSAnZDAxNzQ3YjQxZDcyYzhmMWYyNmE3ZjcyZDI4ZTExMTFkN2VjYTczY2ZhYzBhMDViNDMxODY5ZTVmOWFiODgzOSdcbiAgICAgICAgY29uc3Qgbm9uY2VIZXggPSAnYzBmZDk4YjczYWM5NDFhYTE4YTI1OGU1J1xuICAgICAgICBjb25zdCBkYXRhSGV4ID0gQnVmZmVyLmZyb20oZGF0YSwgJ3V0Zi04JykudG9TdHJpbmcoJ2hleCcpXG4gIFxuICAgICAgICBjb25zdCBlbmNyeXB0ZWQgPSBhd2FpdCB5b3JvaUxpYi5lbmNyeXB0V2l0aFBhc3N3b3JkKHBhc3N3b3JkSGV4LCBzYWx0SGV4LCBub25jZUhleCwgZGF0YUhleClcbiAgICAgICAgY29uc3QgZGVjcnlwdGVkID0gYXdhaXQgeW9yb2lMaWIuZGVjcnlwdFdpdGhQYXNzd29yZChwYXNzd29yZEhleCwgZW5jcnlwdGVkKVxuICBcbiAgICAgICAgY29uc3QgZGF0YUJhY2sgPSBCdWZmZXIuZnJvbShkZWNyeXB0ZWQsICdoZXgnKS50b1N0cmluZygndXRmLTgnKVxuICBcbiAgICAgICAgZXhwZWN0KGRhdGFCYWNrKS50by5lcXVhbHMoZGF0YSlcbiAgICAgIH0pXG4gICAgfSlcbiAgfSlcbn0iLCJpbXBvcnQgeyBXYXNtQ29udHJhY3QgfSBmcm9tICcuL3dhc20tY29udHJhY3QnXG5cbmV4cG9ydCBjb25zdCBjcmVhdGVZb3JvaUxpYiA9ICh3YXNtVjQ6IFdhc21Db250cmFjdCk6IFlvcm9pTGliID0+IHtcbiAgcmV0dXJuIG5ldyBZb3JvaUxpYih3YXNtVjQpXG59XG5cbmV4cG9ydCBjbGFzcyBZb3JvaUxpYiB7XG4gIHByaXZhdGUgX3dhc21WNDogV2FzbUNvbnRyYWN0XG4gIGNvbnN0cnVjdG9yKHdhc21WNDogV2FzbUNvbnRyYWN0KSB7XG4gICAgdGhpcy5fd2FzbVY0ID0gd2FzbVY0XG4gIH1cblxuICBhc3luYyBlbmNyeXB0V2l0aFBhc3N3b3JkKHBhc3N3b3JkOiBzdHJpbmcsIHNhbHQ6IHN0cmluZywgbm9uY2U6IHN0cmluZywgZGF0YTogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5fd2FzbVY0LmVuY3J5cHRfd2l0aF9wYXNzd29yZChcbiAgICAgIHBhc3N3b3JkLFxuICAgICAgc2FsdCxcbiAgICAgIG5vbmNlLFxuICAgICAgZGF0YVxuICAgIClcbiAgfVxuXG4gIGFzeW5jIGRlY3J5cHRXaXRoUGFzc3dvcmQocGFzc3dvcmQ6IHN0cmluZywgZGF0YTogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5fd2FzbVY0LmRlY3J5cHRfd2l0aF9wYXNzd29yZChwYXNzd29yZCwgZGF0YSlcbiAgfVxufSIsImV4cG9ydCBpbnRlcmZhY2UgV2FzbUNvbnRyYWN0IHtcbiAgZW5jcnlwdF93aXRoX3Bhc3N3b3JkKHBhc3N3b3JkOiBzdHJpbmcsIHNhbHQ6IHN0cmluZywgbm9uY2U6IHN0cmluZywgZGF0YTogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+XG4gIGRlY3J5cHRfd2l0aF9wYXNzd29yZChwYXNzd29yZDogc3RyaW5nLCBkYXRhOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz5cbiAgQmlnTnVtOiB0eXBlb2YgQmlnTnVtXG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCaWdOdW0ge1xuICBjb25zdHJ1Y3Rvcih3YXNtQmlnTnVtOiBhbnkpIHtcbiAgICBcbiAgfVxuICBhYnN0cmFjdCBmcmVlKCk6IFByb21pc2U8dm9pZD47XG4gIC8qKlxuICAgICogQHJldHVybnMge1VpbnQ4QXJyYXl9XG4gICovXG4gIGFic3RyYWN0IHRvX2J5dGVzKCk6IFByb21pc2U8VWludDhBcnJheT47XG4gIC8qKlxuICAgICogQHJldHVybnMge3N0cmluZ31cbiAgKi9cbiAgYWJzdHJhY3QgdG9fc3RyKCk6IFByb21pc2U8c3RyaW5nPjtcbiAgLyoqXG4gICAgKiBAcGFyYW0ge0JpZ051bX0gb3RoZXJcbiAgICAqIEByZXR1cm5zIHtCaWdOdW19XG4gICovXG4gIGFic3RyYWN0IGNoZWNrZWRfbXVsKG90aGVyOiBCaWdOdW0pOiBQcm9taXNlPEJpZ051bT47XG4gIC8qKlxuICAgICogQHBhcmFtIHtCaWdOdW19IG90aGVyXG4gICAgKiBAcmV0dXJucyB7QmlnTnVtfVxuICAqL1xuICBhYnN0cmFjdCBjaGVja2VkX2FkZChvdGhlcjogQmlnTnVtKTogUHJvbWlzZTxCaWdOdW0+O1xuICAvKipcbiAgICAqIEBwYXJhbSB7QmlnTnVtfSBvdGhlclxuICAgICogQHJldHVybnMge0JpZ051bX1cbiAgKi9cbiAgYWJzdHJhY3QgY2hlY2tlZF9zdWIob3RoZXI6IEJpZ051bSk6IFByb21pc2U8QmlnTnVtPjtcbiAgLyoqXG4gICAgKiByZXR1cm5zIDAgaWYgaXQgd291bGQgb3RoZXJ3aXNlIHVuZGVyZmxvd1xuICAgICogQHBhcmFtIHtCaWdOdW19IG90aGVyXG4gICAgKiBAcmV0dXJucyB7QmlnTnVtfVxuICAqL1xuICBhYnN0cmFjdCBjbGFtcGVkX3N1YihvdGhlcjogQmlnTnVtKTogUHJvbWlzZTxCaWdOdW0+O1xuICAvKipcbiAgICAqIEBwYXJhbSB7QmlnTnVtfSByaHNfdmFsdWVcbiAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICovXG4gIGFic3RyYWN0IGNvbXBhcmUocmhzX3ZhbHVlOiBCaWdOdW0pOiBQcm9taXNlPG51bWJlcj47XG5cbiAgLyoqXG4gICAgKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGJ5dGVzXG4gICAgKiBAcmV0dXJucyB7QmlnTnVtfVxuICAqL1xuICBzdGF0aWMgZnJvbV9ieXRlcyhieXRlczogVWludDhBcnJheSk6IFByb21pc2U8QmlnTnVtPiB7XG4gICAgdGhyb3cgJ3Nob3VsZCBiZSBvdmVyd3JpdHRlbiBieSBpbXBsZW1lbnRhdGlvbnMnXG4gIH1cbiAgLyoqXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nXG4gICAgKiBAcmV0dXJucyB7QmlnTnVtfVxuICAqL1xuICBzdGF0aWMgZnJvbV9zdHIoc3RyaW5nOiBzdHJpbmcpOiBQcm9taXNlPEJpZ051bT4ge1xuICAgIHRocm93ICdzaG91bGQgYmUgb3ZlcndyaXR0ZW4gYnkgaW1wbGVtZW50YXRpb25zJ1xuICB9XG59IiwiaW1wb3J0ICogYXMgbW9jaGEgZnJvbSAnbW9jaGEnXG5cbmltcG9ydCB7IHNldHVwVGVzdHMgfSBmcm9tICcuLi9wYWNrYWdlcy95b3JvaS1saWItY29yZS9zcGVjL2luZGV4LnNwZWMnXG5pbXBvcnQgeyBpbml0IGFzIGluaXRCcm93c2VyIH0gZnJvbSAnLi4vcGFja2FnZXMveW9yb2ktbGliLWJyb3dzZXIvc3JjJ1xuXG4oYXN5bmMgZnVuY3Rpb24oKSB7XG4gIG1vY2hhLnNldHVwKCdiZGQnKVxuXG4gIGNvbnN0IHlvcm9pTGliQnJvd3NlciA9IGluaXRCcm93c2VyKClcblxuICBzZXR1cFRlc3RzKHlvcm9pTGliQnJvd3NlciwgJ1lvcm9pIExJYiBCcm93c2VyJylcblxuICBtb2NoYS5ydW4oKVxufSkoKSIsIi8qIChpZ25vcmVkKSAqLyIsIi8qIChpZ25vcmVkKSAqLyIsIi8qIChpZ25vcmVkKSAqLyIsIi8qIChpZ25vcmVkKSAqLyIsIi8qIChpZ25vcmVkKSAqLyIsIi8qIChpZ25vcmVkKSAqLyIsIi8qIChpZ25vcmVkKSAqLyIsIi8qIChpZ25vcmVkKSAqLyIsIi8qIChpZ25vcmVkKSAqLyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==